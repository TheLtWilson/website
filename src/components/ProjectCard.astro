---
import Link from '@/components/Link.astro'
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'
import type { CollectionEntry } from 'astro:content'

type Props = {
  project: CollectionEntry<'projects'>
}

const { project } = Astro.props
---

<Link
  href={project.data.link}
  external
  class="flex min-w-max items-center p-4 overflow-hidden rounded-xl border transition-colors duration-300 ease-in-out hover:bg-secondary/50"
>
  <div class="flex-shrink-0">
    <Image
      src={project.data.image}
      alt={project.data.name}
      width={60}
      height={60}
      class="object-cover rounded-md"
    />
  </div>

  <div class="flex flex-col pl-4">
    <h3 class="text-lg font-semibold">{project.data.name}</h3>
    {
      project.data.github_repo ? (
        <p class="flex items-center gap-x-2 text-sm text-muted-foreground">
          <Icon name="lucide:github" width={16} height={16} />
          {project.data.github_repo}
        </p>
      ) : (
        <p class="flex items-center gap-x-2 text-sm text-muted-foreground">
          <Icon name="lucide:globe" width={16} height={16} />
          {project.data.link}
        </p>
      )
    }
  </div>
</Link>
